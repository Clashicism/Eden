<!DOCTYPE html>
<html>
<head>
  <title>Gateway - API landing page</title>
  <style>
    body {
      font-family: helvetica;
      font-weight: bold;
    }
    .code {
      font-family: monospace;
      background-color: #999;
      padding: 0.5em;
      margin: 0.5em;
    }
  </style>
</head>
<body>
  <center>
    <h1>Gateway - API landing page</h1>
  </center>
  <p>
    You've reached the backend server API landing page. This server can be used
    to interface with the <a href="https://gateway.cash"
    target="_blank">gateway.cash</a> payment processor.
  </p>
  <h2>Documentation</h2>
  <p>
    The API is served over HTTPS at api.gateway.cash. It can be used to access
    invoices, manage orders and generate new payments. Your merchant API key
    is required in order to access your invoices and account information. No
    API keys are required when making or confirming a payment.
  </p>
  <p>
    Calling the API will result in a JSON object string being returned. The
    "status" field of the object will either be "success" or "error".
  </p>
  <p>
    In the case of an error, the "error" property will contain a brief error
    message and "description" will contain a more in-depth description of the
    problem, suitable for showing to your users.
  </p>
  <p>
    In the case of a "success" status field, the object will contain the
    relevant information, described below for each endpoint:
  </p>
  <h3>GET /login</h3>
  <p>
    Validates a given session, returning the API key. The aPI key is required to
    access merchant- and account-related endpoints.
  </p>
  <h4>Parameters</h4>
  <ul>
    <li>Either "username" or "address"</li>
    <li>"password"</li>
  </ul>
  <h4>Examples</h4>
  <pre class="code">
    GET https://api.gateway.cash/login?address=bitcoincash:qblahblahblah&password=supersecret
  </pre>
  <pre class="code">
    GET https://api.gateway.cash/login?username=JohnGalt12&password=IHeartDagney
  </pre>
  <h4>Return Value</h4>
  <pre class="code">
    {
      "status": "success",
      "APIKey": "API_KEY_GOES_HERE"
    }
  </pre>
  <pre class="code">
    {
      "status": "error",
      "error": "invalid login",
      "description": "An incorrect address, username or password was provided."
    }
  </pre>
  <h3>POST /register</h3>
  <p>
    Creates a new merchant account and generates an API key, merchant ID and
    other account information for the user.
  </p>
  <h4>Parameters</h4>
  <pre class="code">
    POST https://api.gateway.cash/register
    address: bitcoincash:qwhatevertheaddressis
    username: Francisco // username is optional at registration time
    password: supersecret1
  </pre>
  <h4>Return Value</h4>
  <pre class="code">
    {
      "status": "success",
      "APIKey": "NEWLY_GENERATED_API_KEY"
    }
  </pre>
  <pre class="code">
    {
      "status": "error",
      "error": "Address in use",
      "description": "It looks like that address is already being used by
      another user! If this is your address, send an email to
      support@gateway.cash and we'll help you get access to this merchant
      account."
    }
  </pre>
</body>
</html>
